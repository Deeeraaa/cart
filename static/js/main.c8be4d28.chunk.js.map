{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","cart","filter","item","id","payload","tempCart","map","cartItem","amount","cartItems","reduce","cartTotal","price","itemTotal","total","parseFloat","toFixed","loading","AppContext","React","createContext","initialState","title","img","AppProvider","children","useReducer","dispatch","fetchData","a","fetch","response","json","useEffect","Provider","value","clearCart","remove","increase","decrease","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","src","alt","onClick","CartContainer","length","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c8be4d28.chunk.js","sourcesContent":["const reducer = (state, action) => {\r\n    if (action.type === \"CLEAR_CART\") {\r\n        return {...state, cart:[]}\r\n    }\r\n    if (action.type === \"REMOVE\") {\r\n        return {...state, cart:state.cart.filter ((item)=> item.id !== action.payload )}\r\n    }\r\n    if (action.type === \"INCREASE\") {\r\n        let tempCart = state.cart.map((cartItem) => {\r\n            if (cartItem.id === action.payload) {\r\n                return {...cartItem, amount:cartItem.amount + 1}\r\n            }\r\n            return cartItem\r\n        })\r\n        return {...state, cart:tempCart }\r\n    \r\n    }\r\n\r\n    if (action.type === \"DECREASE\") {\r\n        let tempCart = state.cart.map((cartItem) => {\r\n            if (cartItem.id === action.payload) {\r\n                return { ...cartItem, amount: cartItem.amount - 1 }  \r\n            } \r\n            return cartItem\r\n        }).filter((cartItems) => cartItems.amount !== 0)\r\n        \r\n        \r\n\r\n        return {...state, cart:tempCart }\r\n    \r\n    }\r\n    if (action.type === \"GET_TOTALS\") {\r\n\r\n        let { total, amount } = state.cart.reduce((cartTotal, cartItem) => {\r\n            const { price, amount } = cartItem;\r\n            const itemTotal = price * amount;\r\n\r\n            cartTotal.total += itemTotal;\r\n            cartTotal.amount += amount;\r\n            return cartTotal;\r\n         },\r\n            {\r\n                total: 0, amount: 0,\r\n            })\r\n        total= parseFloat(total.toFixed(2))\r\n    return {...state, total,amount}\r\n    }\r\n    \r\n    if (action.type === \"LOADING\") {\r\n        return {...state, loading:true}\r\n    }\r\n\r\n    if (action.type === \"DISPLAY_ITEMS\") {\r\n        return { ...state, cart:action.payload, loading:false}\r\n    }\r\n    return state\r\n}\r\n\r\nexport default reducer","import React, { useState, useContext, useReducer, useEffect } from 'react'\r\nimport cartItems from './data'\r\nimport reducer from './reducer'\r\n// ATTENTION!!!!!!!!!!\r\n// I SWITCHED TO PERMANENT DOMAIN\r\nconst url = 'https://course-api.com/react-useReducer-cart-project'\r\nconst AppContext = React.createContext()\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  cart: cartItems,\r\n  total: 0,\r\n  amount:0,\r\n}\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState)\r\n\r\n  const clearCart = () => {\r\n    dispatch({type:\"CLEAR_CART\"})\r\n  }\r\n\r\n  const remove = (id) => {\r\n    dispatch({type:\"REMOVE\", payload:id})\r\n  }\r\n\r\n  const increase = (id) => {\r\n    dispatch({type:\"INCREASE\", payload:id})\r\n  }\r\n\r\n   const decrease = (id) => {\r\n    dispatch({type:\"DECREASE\", payload:id})\r\n  }\r\n\r\n\r\n  const fetchData = async () => {\r\n    dispatch({ type: \"LOADING\" }) \r\n    const response = await fetch(url);\r\n    const cart = await response.json();\r\n    \r\n    dispatch({type: \"DISPLAY_ITEMS\", payload:cart})\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchData()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    dispatch({type:\"GET_TOTALS\"})\r\n  },[state.cart])\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        ...state,\r\n        clearCart,\r\n        remove,\r\n        increase,\r\n        decrease,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  )\r\n}\r\n// make sure use\r\nexport const useGlobalContext = () => {\r\n  return useContext(AppContext)\r\n}\r\n\r\nexport { AppContext, AppProvider }\r\n","export default [\r\n  {\r\n    id: 1,\r\n    title: 'Samsung Galaxy S7',\r\n    price: 599.99,\r\n    img:\r\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\r\n    amount: 1,\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'google pixel ',\r\n    price: 499.99,\r\n    img:\r\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\r\n    amount: 1,\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Xiaomi Redmi Note 2',\r\n    price: 699.99,\r\n    img:\r\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\r\n    amount: 1,\r\n  },\r\n];\r\n","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\nconst Navbar = () => {\r\n  const { amount } = useGlobalContext();\r\n  return (\r\n    <nav>\r\n      <div className='nav-center'>\r\n        <h3>DotJS Mobile Store</h3>\r\n        <div className='nav-container'>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\r\n          </svg>\r\n          <div className='amount-container'>\r\n            <p className='total-amount'>{ amount }</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\nconst CartItem = ({ id, img, title, price, amount }) => {\r\n  const { remove, increase, decrease } = useGlobalContext();\r\n  return (\r\n    <article className='cart-item'>\r\n      <img src={img} alt={title} />\r\n      <div>\r\n        <h4>{title}</h4>\r\n        <h4 className='item-price'>${price}</h4>\r\n        {/* remove button */}\r\n        <button\r\n          className='remove-btn'\r\n          onClick={()=>remove(id)}\r\n        >\r\n          remove\r\n        </button>\r\n      </div>\r\n      <div>\r\n        {/* increase amount */}\r\n        <button className='amount-btn' onClick={()=>increase(id)}>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\r\n          </svg>\r\n        </button>\r\n        {/* amount */}\r\n        <p className='amount'>{amount}</p>\r\n        {/* decrease amount */}\r\n        <button className='amount-btn' onClick={() => decrease(id)}>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default CartItem\r\n","import React from 'react'\r\nimport CartItem from './CartItem'\r\nimport { useGlobalContext } from './context'\r\n\r\nconst CartContainer = () => {\r\n  const { cart, total,clearCart } = useGlobalContext()\r\n  if (cart.length === 0) {\r\n    return (\r\n      <section className='cart'>\r\n        {/* cart header */}\r\n        <header>\r\n          <h2>your cart</h2>\r\n          <h4 className='empty-cart'>is currently empty</h4>\r\n        </header>\r\n      </section>\r\n    )\r\n  }\r\n  return (\r\n    <section className='cart'>\r\n      {/* cart header */}\r\n      <header>\r\n        <h2>your cart</h2>\r\n      </header>\r\n      {/* cart items */}\r\n      <div>\r\n        {cart.map((item) => {\r\n          return <CartItem key={item.id} {...item} />\r\n        })}\r\n      </div>\r\n      {/* cart footer */}\r\n      <footer>\r\n        <hr />\r\n        <div className='cart-total'>\r\n          <h4>\r\n            total <span>{ total }</span>\r\n          </h4>\r\n        </div>\r\n        <button\r\n          className='btn clear-btn'\r\n          onClick={clearCart}\r\n        >\r\n          clear cart\r\n        </button>\r\n      </footer>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CartContainer\r\n","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\n\r\n// components\r\nimport Navbar from './Navbar'\r\nimport CartContainer from './CartContainer'\r\n// items\r\n\r\nfunction App() {\r\n  const { loading } = useGlobalContext();\r\n  if (loading) {\r\n    return (\r\n      <div className='loading'>\r\n        <h1>Loading...</h1>\r\n      </div>\r\n    )\r\n  }\r\n  return (\r\n    <main>\r\n      <Navbar />\r\n      <CartContainer />\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { AppProvider } from './context';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AppProvider>\r\n      <App />\r\n    </AppProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}